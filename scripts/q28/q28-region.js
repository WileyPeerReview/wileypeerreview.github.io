//data

var dataset = [
    {
        "key": "Europe",
        "values": [
  {
     x:"Introduction to becoming a peer reviewer"
    ,y:219
  },
  {
     x:"Handling conflicts of interest"
    ,y:102
  },
  {
     x:"Handling plagiarism issues"
    ,y:289
  },
  {
     x:"Constructing a review report"
    ,y:330
  },
  {
     x:"Providing constructive, useful feedback"
    ,y:322
  },
  {
     x:"Working with editors during the review process"
    ,y:243
  },
  {
     x:"How to review a Qualitative Research article"
    ,y:226
  },
  {
     x:"Reviewing a Quantitative Research article"
    ,y:158
  },
  {
     x:"Performing a statistical review"
    ,y:239
  },
  {
     x:"Reviewing a clinical paper"
    ,y:159
  },
  {
     x:"Reviewing a systematic literature review paper"
    ,y:232
  },
  {
     x:"Reviewing data"
    ,y:176
  },
  {
     x:"Handling re-reviews"
    ,y:159
  },
  {
     x:"Using reporting standards guidelines"
    ,y:85
  }],
},
    {
        "key": "Asia",
        "values": [
  {
     x:"Introduction to becoming a peer reviewer"
    ,y:191
  },
  {
     x:"Handling conflicts of interest"
    ,y:58
  },
  {
     x:"Handling plagiarism issues"
    ,y:145
  },
  {
     x:"Constructing a review report"
    ,y:198
  },
  {
     x:"Providing constructive, useful feedback"
    ,y:146
  },
  {
     x:"Working with editors during the review process"
    ,y:130
  },
  {
     x:"How to review a Qualitative Research article"
    ,y:146
  },
  {
     x:"Reviewing a Quantitative Research article"
    ,y:90
  },
  {
     x:"Performing a statistical review"
    ,y:91
  },
  {
     x:"Reviewing a clinical paper"
    ,y:72
  },
  {
     x:"Reviewing a systematic literature review paper"
    ,y:76
  },
  {
     x:"Reviewing data"
    ,y:79
  },
  {
     x:"Handling re-reviews"
    ,y:60
  },
  {
     x:"Using reporting standards guidelines"
    ,y:57
  }],
},
    {
        "key": "North America",
        "values": [
  {
     x:"Introduction to becoming a peer reviewer"
    ,y:85
  },
  {
     x:"Handling conflicts of interest"
    ,y:54
  },
  {
     x:"Handling plagiarism issues"
    ,y:92
  },
  {
     x:"Constructing a review report"
    ,y:114
  },
  {
     x:"Providing constructive, useful feedback"
    ,y:168
  },
  {
     x:"Working with editors during the review process"
    ,y:95
  },
  {
     x:"How to review a Qualitative Research article"
    ,y:76
  },
  {
     x:"Reviewing a Quantitative Research article"
    ,y:70
  },
  {
     x:"Performing a statistical review"
    ,y:99
  },
  {
     x:"Reviewing a clinical paper"
    ,y:52
  },
  {
     x:"Reviewing a systematic literature review paper"
    ,y:81
  },
  {
     x:"Reviewing data"
    ,y:69
  },
  {
     x:"Handling re-reviews"
    ,y:84
  },
  {
     x:"Using reporting standards guidelines"
    ,y:48
  }],
},
    {
        "key": "Central & South America",
        "values": [
  {
     x:"Introduction to becoming a peer reviewer"
    ,y:69
  },
  {
     x:"Handling conflicts of interest"
    ,y:18
  },
  {
     x:"Handling plagiarism issues"
    ,y:92
  },
  {
     x:"Constructing a review report"
    ,y:96
  },
  {
     x:"Providing constructive, useful feedback"
    ,y:84
  },
  {
     x:"Working with editors during the review process"
    ,y:58
  },
  {
     x:"How to review a Qualitative Research article"
    ,y:63
  },
  {
     x:"Reviewing a Quantitative Research article"
    ,y:49
  },
  {
     x:"Performing a statistical review"
    ,y:49
  },
  {
     x:"Reviewing a clinical paper"
    ,y:32
  },
  {
     x:"Reviewing a systematic literature review paper"
    ,y:48
  },
  {
     x:"Reviewing data"
    ,y:38
  },
  {
     x:"Handling re-reviews"
    ,y:22
  },
  {
     x:"Using reporting standards guidelines"
    ,y:16
  }],
},
    {
        "key": "Australasia",
        "values": [
  {
     x:"Introduction to becoming a peer reviewer"
    ,y:29
  },
  {
     x:"Handling conflicts of interest"
    ,y:18
  },
  {
     x:"Handling plagiarism issues"
    ,y:40
  },
  {
     x:"Constructing a review report"
    ,y:55
  },
  {
     x:"Providing constructive, useful feedback"
    ,y:58
  },
  {
     x:"Working with editors during the review process"
    ,y:38
  },
  {
     x:"How to review a Qualitative Research article"
    ,y:32
  },
  {
     x:"Reviewing a Quantitative Research article"
    ,y:31
  },
  {
     x:"Performing a statistical review"
    ,y:43
  },
  {
     x:"Reviewing a clinical paper"
    ,y:28
  },
  {
     x:"Reviewing a systematic literature review paper"
    ,y:49
  },
  {
     x:"Reviewing data"
    ,y:33
  },
  {
     x:"Handling re-reviews"
    ,y:30
  },
  {
     x:"Using reporting standards guidelines"
    ,y:25
  }],
},
    {
        "key": "Africa & Middle East",
        "values": [
  {
     x:"Introduction to becoming a peer reviewer"
    ,y:76
  },
  {
     x:"Handling conflicts of interest"
    ,y:20
  },
  {
     x:"Handling plagiarism issues"
    ,y:58
  },
  {
     x:"Constructing a review report"
    ,y:59
  },
  {
     x:"Providing constructive, useful feedback"
    ,y:34
  },
  {
     x:"Working with editors during the review process"
    ,y:37
  },
  {
     x:"How to review a Qualitative Research article"
    ,y:63
  },
  {
     x:"Reviewing a Quantitative Research article"
    ,y:43
  },
  {
     x:"Performing a statistical review"
    ,y:35
  },
  {
     x:"Reviewing a clinical paper"
    ,y:24
  },
  {
     x:"Reviewing a systematic literature review paper"
    ,y:44
  },
  {
     x:"Reviewing data"
    ,y:29
  },
  {
     x:"Handling re-reviews"
    ,y:27
  },
  {
     x:"Using reporting standards guidelines"
    ,y:24
  }],
}
];

console.log(dataset);

nv.addGraph(function () {
    var chart = nv.models.multiBarHorizontalChart()
        .showControls(true) //Allow user to switch between 'Grouped' and 'Stacked' mode.
        .groupSpacing(0.2) //Distance between each group of bars.
        .color(["#F2BA49", "#855199", "#648FD8", "#92CB9C", "#D22938", "#075B81"])
        .height(900)
        .margin({
            top: 30,
            right: 20,
            bottom: 0,
            left: 280
        });

    chart.legend.vers('furious');

    //chart.xAxis
    //.tickFormat(d3.format(',f'));

    chart.yAxis
        .tickFormat(d3.format(',1f'))
        .axisLabel('Responses');

    d3.select('#chart1 svg')
        .datum(dataset)
        .call(chart);

    nv.utils.windowResize(chart.update);

    return chart;
});