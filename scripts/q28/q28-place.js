//data

var dataset = [
    {
        "key": "University or College",
        "values": [
            {
                x: "Introduction to becoming a peer reviewer",
                y: 373
  },
            {
                x: "Handling conflicts of interest",
                y: 149
  },
            {
                x: "Handling plagiarism issues",
                y: 428
  },
            {
                x: "Constructing a review report",
                y: 508
  },
            {
                x: "Providing constructive, useful feedback",
                y: 482
  },
            {
                x: "Working with editors during the review process",
                y: 352
  },
            {
                x: "How to review a Qualitative Research article",
                y: 344
  },
            {
                x: "Reviewing a Quantitative Research article",
                y: 251
  },
            {
                x: "Performing a statistical review",
                y: 281
  },
            {
                x: "Reviewing a clinical paper",
                y: 167
  },
            {
                x: "Reviewing a systematic literature review paper",
                y: 289
  },
            {
                x: "Reviewing data",
                y: 229
  },
            {
                x: "Handling re-reviews",
                y: 229
  },
            {
                x: "Understanding/checking against reporting standards guidelines",
                y: 154
  }],
},
    {
        "key": "Research Institution",
        "values": [
            {
                x: "Introduction to becoming a peer reviewer",
                y: 119
  },
            {
                x: "Handling conflicts of interest",
                y: 51
  },
            {
                x: "Handling plagiarism issues",
                y: 135
  },
            {
                x: "Constructing a review report",
                y: 155
  },
            {
                x: "Providing constructive, useful feedback",
                y: 143
  },
            {
                x: "Working with editors during the review process",
                y: 118
  },
            {
                x: "How to review a Qualitative Research article",
                y: 122
  },
            {
                x: "Reviewing a Quantitative Research article",
                y: 92
  },
            {
                x: "Performing a statistical review",
                y: 100
  },
            {
                x: "Reviewing a clinical paper",
                y: 52
  },
            {
                x: "Reviewing a systematic literature review paper",
                y: 86
  },
            {
                x: "Reviewing data",
                y: 82
  },
            {
                x: "Handling re-reviews",
                y: 56
  },
            {
                x: "Understanding/checking against reporting standards guidelines",
                y: 40
  }],
},
    {
        "key": "Healthcare",
        "values": [
            {
                x: "Introduction to becoming a peer reviewer",
                y: 64
  },
            {
                x: "Handling conflicts of interest",
                y: 25
  },
            {
                x: "Handling plagiarism issues",
                y: 60
  },
            {
                x: "Constructing a review report",
                y: 92
  },
            {
                x: "Providing constructive, useful feedback",
                y: 69
  },
            {
                x: "Working with editors during the review process",
                y: 54
  },
            {
                x: "How to review a Qualitative Research article",
                y: 64
  },
            {
                x: "Reviewing a Quantitative Research article",
                y: 36
  },
            {
                x: "Performing a statistical review",
                y: 99
  },
            {
                x: "Reviewing a clinical paper",
                y: 109
  },
            {
                x: "Reviewing a systematic literature review paper",
                y: 76
  },
            {
                x: "Reviewing data",
                y: 57
  },
            {
                x: "Handling re-reviews",
                y: 41
  },
            {
                x: "Understanding/checking against reporting standards guidelines",
                y: 25
  }],
},
    {
        "key": "Government Organisation",
        "values": [
            {
                x: "Introduction to becoming a peer reviewer",
                y: 30
  },
            {
                x: "Handling conflicts of interest",
                y: 11
  },
            {
                x: "Handling plagiarism issues",
                y: 22
  },
            {
                x: "Constructing a review report",
                y: 33
  },
            {
                x: "Providing constructive, useful feedback",
                y: 42
  },
            {
                x: "Working with editors during the review process",
                y: 21
  },
            {
                x: "How to review a Qualitative Research article",
                y: 24
  },
            {
                x: "Reviewing a Quantitative Research article",
                y: 22
  },
            {
                x: "Performing a statistical review",
                y: 26
  },
            {
                x: "Reviewing a clinical paper",
                y: 7
  },
            {
                x: "Reviewing a systematic literature review paper",
                y: 22
  },
            {
                x: "Reviewing data",
                y: 11
  },
            {
                x: "Handling re-reviews",
                y: 13
  },
            {
                x: "Understanding/checking against reporting standards guidelines",
                y: 14
  }],
},
    {
        "key": "Other",
        "values": [
            {
                x: "Introduction to becoming a peer reviewer",
                y: 59
  },
            {
                x: "Handling conflicts of interest",
                y: 27
  },
            {
                x: "Handling plagiarism issues",
                y: 53
  },
            {
                x: "Constructing a review report",
                y: 49
  },
            {
                x: "Providing constructive, useful feedback",
                y: 57
  },
            {
                x: "Working with editors during the review process",
                y: 42
  },
            {
                x: "How to review a Qualitative Research article",
                y: 42
  },
            {
                x: "Reviewing a Quantitative Research article",
                y: 33
  },
            {
                x: "Performing a statistical review",
                y: 37
  },
            {
                x: "Reviewing a clinical paper",
                y: 25
  },
            {
                x: "Reviewing a systematic literature review paper",
                y: 40
  },
            {
                x: "Reviewing data",
                y: 36
  },
            {
                x: "Handling re-reviews",
                y: 34
  },
            {
                x: "Understanding/checking against reporting standards guidelines",
                y: 18
  }],
},
    {
        "key": "Corporation",
        "values": [
            {
                x: "Introduction to becoming a peer reviewer",
                y: 14
  },
            {
                x: "Handling conflicts of interest",
                y: 5
  },
            {
                x: "Handling plagiarism issues",
                y: 14
  },
            {
                x: "Constructing a review report",
                y: 11
  },
            {
                x: "Providing constructive, useful feedback",
                y: 17
  },
            {
                x: "Working with editors during the review process",
                y: 11
  },
            {
                x: "How to review a Qualitative Research article",
                y: 6
  },
            {
                x: "Reviewing a Quantitative Research article",
                y: 4
  },
            {
                x: "Performing a statistical review",
                y: 11
  },
            {
                x: "Reviewing a clinical paper",
                y: 5
  },
            {
                x: "Reviewing a systematic literature review paper",
                y: 13
  },
            {
                x: "Reviewing data",
                y: 7
  },
            {
                x: "Handling re-reviews",
                y: 6
  },
            {
                x: "Understanding/checking against reporting standards guidelines",
                y: 3
  }],
}
];

console.log(dataset);

nv.addGraph(function () {
    var chart = nv.models.multiBarHorizontalChart()
        .showControls(true) //Allow user to switch between 'Grouped' and 'Stacked' mode.
        .groupSpacing(0.2) //Distance between each group of bars.
        .color(["#F2BA49", "#BCADE2", "#A0C7E5", "#C6DE8C", "#D22938", "#B1D8CF"])
        .height(900)
        .margin({
            top: 30,
            right: 20,
            bottom: 0,
            left: 400
        });

    chart.legend.vers('furious');

    //chart.xAxis
    //.tickFormat(d3.format(',f'));

    chart.yAxis
        .tickFormat(d3.format(',1f'))
        .axisLabel('Mean response');

    d3.select('#chart1 svg')
        .datum(dataset)
        .call(chart);

    nv.utils.windowResize(chart.update);

    return chart;
});