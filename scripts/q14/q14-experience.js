//data

var dataset = [
    {
        "key": "Less than 1",
        "values": [
  {
     x:"Name published alongside paper"
    ,y:30
  },
  {
     x:"Signed report publicized with paper"
    ,y:5
  },
  {
     x:"Acknowledgement in the journal"
    ,y:44
  },
  {
     x:"Acknowledgement on journal's website"
    ,y:52
  },
  {
     x:"Thankyou note from editor"
    ,y:70
  },
  {
     x:"CME Accreditation/CPD points"
    ,y:32
  },
  {
     x:"Credit on 3rd party site"
    ,y:28
  },
  {
     x:"Certificate from  journal"
    ,y:95
  },
  {
     x:"Payment in-kind by the journal"
    ,y:27
  },
  {
     x:"Cash payment"
    ,y:33
  },
  {
     x:"Payment/credit by 3rd party review service"
    ,y:19
  },
  {
     x:"Book discount"
    ,y:31
  },
  {
     x:"Discount/waiver on Open Access fees"
    ,y:40
  },
  {
     x:"Discount/waiver on publication charges"
    ,y:33
  },
  {
     x:"Reviewer web badges "
    ,y:37
  },
  {
     x:"Post-pub access to papers reviewed"
    ,y:43
  },
  {
     x:"Personal access to journal content"
    ,y:56
  },
  {
     x:"Reviewer of the year award"
    ,y:55
  },
  {
     x:"'Top reviewer' web badges"
    ,y:61
  },
  {
     x:"Ed. Feedback on quality of review"
    ,y:96
  },
  {
     x:"Info on final decision for reviewed paper"
    ,y:63
  },
  {
     x:"Visibility of other reviewer reports"
    ,y:63
  },
  {
     x:"Review history metrics"
    ,y:37
  },
  {
     x:"Post-pub metrics for reviewed articles"
    ,y:34
  }],
},
    {
        "key": "1 to 2",
        "values": [
  {
     x:"Name published alongside paper"
    ,y:115
  },
  {
     x:"Signed report publicized with paper"
    ,y:30
  },
  {
     x:"Acknowledgement in the journal"
    ,y:183
  },
  {
     x:"Acknowledgement on journal's website"
    ,y:170
  },
  {
     x:"Thankyou note from editor"
    ,y:170
  },
  {
     x:"CME Accreditation/CPD points"
    ,y:88
  },
  {
     x:"Credit on 3rd party site"
    ,y:102
  },
  {
     x:"Certificate from  journal"
    ,y:272
  },
  {
     x:"Payment in-kind by the journal"
    ,y:80
  },
  {
     x:"Cash payment"
    ,y:94
  },
  {
     x:"Payment/credit by 3rd party review service"
    ,y:35
  },
  {
     x:"Book discount"
    ,y:75
  },
  {
     x:"Discount/waiver on Open Access fees"
    ,y:119
  },
  {
     x:"Discount/waiver on publication charges"
    ,y:109
  },
  {
     x:"Reviewer web badges "
    ,y:112
  },
  {
     x:"Post-pub access to papers reviewed"
    ,y:125
  },
  {
     x:"Personal access to journal content"
    ,y:215
  },
  {
     x:"Reviewer of the year award"
    ,y:174
  },
  {
     x:"'Top reviewer' web badges"
    ,y:155
  },
  {
     x:"Ed. Feedback on quality of review"
    ,y:255
  },
  {
     x:"Info on final decision for reviewed paper"
    ,y:234
  },
  {
     x:"Visibility of other reviewer reports"
    ,y:202
  },
  {
     x:"Review history metrics"
    ,y:111
  },
  {
     x:"Post-pub metrics for reviewed articles"
    ,y:134
  }],
},
    {
        "key": "3 to 5",
        "values": [
  {
     x:"Name published alongside paper"
    ,y:174
  },
  {
     x:"Signed report publicized with paper"
    ,y:87
  },
  {
     x:"Acknowledgement in the journal"
    ,y:357
  },
  {
     x:"Acknowledgement on journal's website"
    ,y:349
  },
  {
     x:"Thankyou note from editor"
    ,y:325
  },
  {
     x:"CME Accreditation/CPD points"
    ,y:145
  },
  {
     x:"Credit on 3rd party site"
    ,y:186
  },
  {
     x:"Certificate from  journal"
    ,y:492
  },
  {
     x:"Payment in-kind by the journal"
    ,y:169
  },
  {
     x:"Cash payment"
    ,y:217
  },
  {
     x:"Payment/credit by 3rd party review service"
    ,y:89
  },
  {
     x:"Book discount"
    ,y:161
  },
  {
     x:"Discount/waiver on Open Access fees"
    ,y:241
  },
  {
     x:"Discount/waiver on publication charges"
    ,y:233
  },
  {
     x:"Reviewer web badges "
    ,y:190
  },
  {
     x:"Post-pub access to papers reviewed"
    ,y:243
  },
  {
     x:"Personal access to journal content"
    ,y:418
  },
  {
     x:"Reviewer of the year award"
    ,y:328
  },
  {
     x:"'Top reviewer' web badges"
    ,y:291
  },
  {
     x:"Ed. Feedback on quality of review"
    ,y:492
  },
  {
     x:"Info on final decision for reviewed paper"
    ,y:464
  },
  {
     x:"Visibility of other reviewer reports"
    ,y:370
  },
  {
     x:"Review history metrics"
    ,y:222
  },
  {
     x:"Post-pub metrics for reviewed articles"
    ,y:233
  }],
},
    {
        "key": "6 to 10",
        "values": [
  {
     x:"Name published alongside paper"
    ,y:136
  },
  {
     x:"Signed report publicized with paper"
    ,y:44
  },
  {
     x:"Acknowledgement in the journal"
    ,y:317
  },
  {
     x:"Acknowledgement on journal's website"
    ,y:305
  },
  {
     x:"Thankyou note from editor"
    ,y:252
  },
  {
     x:"CME Accreditation/CPD points"
    ,y:114
  },
  {
     x:"Credit on 3rd party site"
    ,y:156
  },
  {
     x:"Certificate from  journal"
    ,y:373
  },
  {
     x:"Payment in-kind by the journal"
    ,y:118
  },
  {
     x:"Cash payment"
    ,y:173
  },
  {
     x:"Payment/credit by 3rd party review service"
    ,y:67
  },
  {
     x:"Book discount"
    ,y:130
  },
  {
     x:"Discount/waiver on Open Access fees"
    ,y:229
  },
  {
     x:"Discount/waiver on publication charges"
    ,y:201
  },
  {
     x:"Reviewer web badges "
    ,y:149
  },
  {
     x:"Post-pub access to papers reviewed"
    ,y:198
  },
  {
     x:"Personal access to journal content"
    ,y:331
  },
  {
     x:"Reviewer of the year award"
    ,y:239
  },
  {
     x:"'Top reviewer' web badges"
    ,y:209
  },
  {
     x:"Ed. Feedback on quality of review"
    ,y:406
  },
  {
     x:"Info on final decision for reviewed paper"
    ,y:406
  },
  {
     x:"Visibility of other reviewer reports"
    ,y:284
  },
  {
     x:"Review history metrics"
    ,y:179
  },
  {
     x:"Post-pub metrics for reviewed articles"
    ,y:165
  }],
},
    {
        "key": "11 to 15",
        "values": [
  {
     x:"Name published alongside paper"
    ,y:56
  },
  {
     x:"Signed report publicized with paper"
    ,y:22
  },
  {
     x:"Acknowledgement in the journal"
    ,y:121
  },
  {
     x:"Acknowledgement on journal's website"
    ,y:93
  },
  {
     x:"Thankyou note from editor"
    ,y:82
  },
  {
     x:"CME Accreditation/CPD points"
    ,y:49
  },
  {
     x:"Credit on 3rd party site"
    ,y:63
  },
  {
     x:"Certificate from  journal"
    ,y:128
  },
  {
     x:"Payment in-kind by the journal"
    ,y:53
  },
  {
     x:"Cash payment"
    ,y:64
  },
  {
     x:"Payment/credit by 3rd party review service"
    ,y:23
  },
  {
     x:"Book discount"
    ,y:50
  },
  {
     x:"Discount/waiver on Open Access fees"
    ,y:86
  },
  {
     x:"Discount/waiver on publication charges"
    ,y:73
  },
  {
     x:"Reviewer web badges "
    ,y:46
  },
  {
     x:"Post-pub access to papers reviewed"
    ,y:68
  },
  {
     x:"Personal access to journal content"
    ,y:116
  },
  {
     x:"Reviewer of the year award"
    ,y:92
  },
  {
     x:"'Top reviewer' web badges"
    ,y:70
  },
  {
     x:"Ed. Feedback on quality of review"
    ,y:125
  },
  {
     x:"Info on final decision for reviewed paper"
    ,y:150
  },
  {
     x:"Visibility of other reviewer reports"
    ,y:107
  },
  {
     x:"Review history metrics"
    ,y:77
  },
  {
     x:"Post-pub metrics for reviewed articles"
    ,y:58
  }],
},
    {
        "key": "More than 15",
        "values": [
  {
     x:"Name published alongside paper"
    ,y:78
  },
  {
     x:"Signed report publicized with paper"
    ,y:39
  },
  {
     x:"Acknowledgement in the journal"
    ,y:218
  },
  {
     x:"Acknowledgement on journal's website"
    ,y:175
  },
  {
     x:"Thankyou note from editor"
    ,y:183
  },
  {
     x:"CME Accreditation/CPD points"
    ,y:81
  },
  {
     x:"Credit on 3rd party site"
    ,y:66
  },
  {
     x:"Certificate from  journal"
    ,y:169
  },
  {
     x:"Payment in-kind by the journal"
    ,y:58
  },
  {
     x:"Cash payment"
    ,y:107
  },
  {
     x:"Payment/credit by 3rd party review service"
    ,y:33
  },
  {
     x:"Book discount"
    ,y:78
  },
  {
     x:"Discount/waiver on Open Access fees"
    ,y:147
  },
  {
     x:"Discount/waiver on publication charges"
    ,y:105
  },
  {
     x:"Reviewer web badges "
    ,y:48
  },
  {
     x:"Post-pub access to papers reviewed"
    ,y:103
  },
  {
     x:"Personal access to journal content"
    ,y:205
  },
  {
     x:"Reviewer of the year award"
    ,y:109
  },
  {
     x:"'Top reviewer' web badges"
    ,y:84
  },
  {
     x:"Ed. Feedback on quality of review"
    ,y:220
  },
  {
     x:"Info on final decision for reviewed paper"
    ,y:275
  },
  {
     x:"Visibility of other reviewer reports"
    ,y:201
  },
  {
     x:"Review history metrics"
    ,y:98
  },
  {
     x:"Post-pub metrics for reviewed articles"
    ,y:97
  }],
}
];

console.log(dataset);

nv.addGraph(function () {
    var chart = nv.models.multiBarHorizontalChart()
        .showControls(true) //Allow user to switch between 'Grouped' and 'Stacked' mode.
        .groupSpacing(0.2) //Distance between each group of bars.
        .color(["#F2BA49", "#855199", "#648FD8", "#92CB9C", "#D22938", "#075B81"])
        .height(900)
        .margin({
            top: 30,
            right: 20,
            bottom: 0,
            left: 280
        });

    chart.legend.vers('furious');

    //chart.xAxis
    //.tickFormat(d3.format(',f'));

    chart.yAxis
        .tickFormat(d3.format(',1f'))
        .axisLabel('Responses');

    d3.select('#chart1 svg')
        .datum(dataset)
        .call(chart);

    nv.utils.windowResize(chart.update);

    return chart;
});